import{a as l,o as i,e as m,b as t,k as d,u as c,g as u,i as o,t as a,F as p,D as y}from"./app-BGRHxlSA.js";import"./bootstrap.esm-DIZaw3cf.js";const b={key:0,class:"container"},h={class:"row no-gutters mt-3"},v={class:"col-12"},g={class:"text-center"},f={class:"row no-gutters mt-3"},w={class:"col-12",align:"center"},P=["src"],k={class:"col-12 mt-4",align:"center"},C={class:"col-12 mt-4",align:"center"},S={key:1,class:"container"},O={class:"row no-gutters mt-3"},B={class:"col-12"},R={class:"text-center"},D={class:"row no-gutters mt-3"},N={class:"col-12",align:"center"},$=["src"],q={class:"col-12 mt-4",align:"center"},F={class:"col-12 mt-4",align:"center"},M={key:2,class:"container"},T={class:"row no-gutters mt-3"},V={class:"col-12 mt-4",align:"center"},j={class:"col-12 mt-4",align:"center"},H={name:"Menu",props:{data:Object},data(){return{searchQuery:"",images:["https://placehold.co/1440x470?text=Hello+World+1","https://placehold.co/1440x470?text=Hello+World+2","https://placehold.co/1440x470?text=Hello+World+3"],uniqueModal:null,uniqueOffcanvas:null,detailPayment:{invoice:this.data.invoice||"",paymentCode:this.data.payment_code||"",totalPayment:this.data.total_payment||0,payBy:this.data.payBy||"",expired:this.data.expired||"",barcode:this.data.barcode||""},view:this.data.payBy}},methods:{notify(){alert("Notification clicked!")},showData(n){n==="menu"?(this.dstocks.show=!1,this.dbranchs.show=!1):n==="branch"&&(this.dstocks.show=!1,this.dbranchs.show=!0)},confirmPayment(){this.$inertia.post("/payment-confirmation",{detailPayment:this.detailPayment},{onSuccess:()=>{this.view="done"}})},num2hum(n){return n=parseFloat(n)||0,n.toLocaleString("en-US",{maximumFractionDigits:2})},async downloadPaymentConfirmation(){const n=await y.post(route("payment.pdf"),{detailPayment:this.detailPayment},{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([n.data])),e=document.createElement("a");e.href=s,e.setAttribute("download",`Invoice-${this.detailPayment.invoice}.pdf`),document.body.appendChild(e),e.click()}},mounted(){}},U=Object.assign(H,{setup(n){return(s,e)=>(i(),l(p,null,[m(c(u),{title:"Menu"}),e[18]||(e[18]=t("nav",{class:"navbar bg-body-tertiary"},[t("div",{class:"container-fluid"},[t("a",{class:"navbar-brand"},"MyStore"),t("form",{class:"d-flex",role:"search"},[t("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),t("button",{class:"btn btn-outline-success",type:"submit"},"Search")])])],-1)),s.view==="qris"?(i(),l("div",b,[t("div",h,[t("div",v,[t("p",g,[e[3]||(e[3]=o("Please make payment before ")),t("b",null,a(s.detailPayment.expired),1)])])]),t("div",f,[t("div",w,[t("img",{class:"img-fluid",width:"300",src:"data:image/png;base64,"+s.detailPayment.barcode},null,8,P)]),t("div",k,[t("p",null,[e[4]||(e[4]=o("Total Payment: ")),t("b",null,"Rp "+a(s.num2hum(s.detailPayment.totalPayment)),1)]),t("p",null,[e[5]||(e[5]=o("Order Code")),e[6]||(e[6]=t("br",null,null,-1)),t("b",null,a(s.detailPayment.paymentCode),1)]),e[7]||(e[7]=t("p",null,"Orders will not be processed until you pay this QR Code",-1))]),t("div",C,[t("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=r=>{s.view="qris",s.confirmPayment()})},"Check Status Payment")])])])):d("",!0),s.view==="cash"?(i(),l("div",S,[t("div",O,[t("div",B,[t("p",R,[e[8]||(e[8]=o("Please make payment before ")),t("b",null,a(s.detailPayment.expired),1)])])]),t("div",D,[t("div",N,[t("img",{class:"img-fluid",width:"300",src:"data:image/png;base64,"+s.detailPayment.barcode},null,8,$)]),t("div",q,[t("p",null,[e[9]||(e[9]=o("Total Payment: ")),t("b",null,"Rp "+a(s.num2hum(s.detailPayment.totalPayment)),1)]),t("p",null,[e[10]||(e[10]=o("Order Code")),e[11]||(e[11]=t("br",null,null,-1)),t("b",null,a(s.detailPayment.paymentCode),1)]),e[12]||(e[12]=t("p",null,[o("Orders will not be processed until you show the this QR Code to the cashier"),t("br"),o("Payment can only be made at the cashier")],-1))]),t("div",F,[t("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=r=>{s.view="cash",s.confirmPayment()})},"Check Status Payment")])])])):d("",!0),s.view==="done"?(i(),l("div",M,[e[17]||(e[17]=t("div",{class:"row no-gutters mt-3"},[t("div",{class:"col-12"},[t("h3",{class:"text-center"},"Done payment")])],-1)),t("div",T,[e[16]||(e[16]=t("div",{class:"col-12",align:"center"},[t("img",{class:"img-fluid",width:"150",src:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-512.png"})],-1)),t("div",V,[t("p",null,[e[13]||(e[13]=o("Order Code")),e[14]||(e[14]=t("br",null,null,-1)),t("b",null,a(s.detailPayment.paymentCode),1)]),e[15]||(e[15]=t("p",null,"Show order code to the cashier",-1))]),t("div",j,[t("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=r=>s.downloadPaymentConfirmation())},"Print")])])])):d("",!0)],64))}});export{U as default};
